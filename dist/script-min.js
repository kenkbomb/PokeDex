let pokemonRepository=function(){let t=[],e,n=document.getElementById("modal");function o(){return t}let r=document.querySelector("ul");function l(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(t){console.error(t)})}return{add:function e(n){n instanceof Object?t.push(n):alert("Pokemon only!")},getAll:o,addListItem:function t(o){let i=document.createElement("li"),a=document.createElement("button");a.innerText=o.name,a.classList.add("pokeButton"),a.classList.add("btn_btn-primary"),a.setAttribute("type","button"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#modalContainer"),i.appendChild(a),r.appendChild(i),a.addEventListener("click",function(t){(function t(o){l(o).then(function(){console.log(o);let t=document.getElementById("pokeName"),r=document.getElementById("pokeHeight"),l=document.getElementById("pokeImg"),i=document.getElementById("ptype");t.innerText=o.name,r.innerText="Height: "+o.height.toString(),i.innerText="Type: "+o.types[0].type.name,l.imageUrl=o.imageUrl.sprites;document.getElementById("pImage").setAttribute("src",o.imageUrl),console.log(o.types[0].type.name),e=o.types[0].type.name,n=document.getElementById("modalbg"),("water"===e||"ice"===e)&&(n.style.backgroundColor="aqua"),("bug"===e||"grass"===e)&&(n.style.backgroundColor="rgb(10, 197, 82) "),"fire"===e&&(n.style.backgroundColor="darkgoldenrod"),"electric"===e&&(n.style.backgroundColor="darkyellow"),"poison"===e&&(n.style.backgroundColor="purple"),"ground"===e&&(n.style.backgroundColor="lightbrown"),"fighting"===e&&(n.style.backgroundColor="lightbrown"),"normal"===e&&(n.style.backgroundColor="lightbrown"),("ghost"===e||"rock"===e)&&(n.style.backgroundColor="grey"),console.log(e)})})(o)})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let e={name:t.name,height:t.height,detailsUrl:t.url,types:t.types};pokemonRepository.add(e)})}).catch(function(t){console.error(t)})},loadDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});